<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script>
        var counter = 0;
        var i = 0;
        function updateCount(count) {
            counter = count;
            console.log("count is " + count);
        };
        setInterval(function () {
            i += 1;
            window.chrome.webview.hostObjects.counter.ping().then(updateCount);
        }, i === 10 ? 100 : 0);

        function updateHash() {
            window.location.replace('http://localhost/webview2test/Content/test.html?auth=inherit#boom/boom');
        }
    </script>
</head>
<body>
<h1>WebView2 Issue</h1>
<button onclick="updateHash()">Navigate within page</button>
</body>
</html>